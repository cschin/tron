<script>
  function get_event_with_mouse_coordinate(event) {
    if (event == null || event.type == "load") { // htxm may evaluate "load" event that does not has "getAttribute" 
      return
    } else {
      const rect = event.currentTarget.getBoundingClientRect();
      return {
        "tn_event":
        {
          "e_trigger": event.currentTarget.id,
          "e_type": event.type,
          "e_state": event.currentTarget.getAttribute('state'),
          "e_target": event.currentTarget.getAttribute('hx-target')
        },
        "e_x": event.clientX - rect.left,
        "e_y": event.clientY - rect.top
      };
    };
  };
</script>