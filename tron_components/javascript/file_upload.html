<script> //for file upload
    function get_event_with_files(event) {
      if (event == null || event.type == "load") { // htxm may evaluate "load" event that does not has "getAttribute" 
        return
      } else {
        const files = document.getElementById(event.target.id + "_input").files; 
        var file_list = [];
        for (let idx = 0; idx < files.length; idx++)  { 
          file_list.push( [files[idx].name, files[idx].size, files[idx].type] ); 
        };
        return {
          "tn_event":
          {
            "e_trigger": event.currentTarget.id,
            "e_type": event.type,
            "e_state": event.currentTarget.getAttribute('state'),
            "e_target": event.currentTarget.getAttribute('hx-target')
          },
          "e_file_list": file_list
        };
      };
    };
</script>