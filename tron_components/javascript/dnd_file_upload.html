<script id="dropzone_lib" async src="https://unpkg.com/dropzone@6.0.0-beta.1/dist/dropzone-min.js"></script>

<link href="https://unpkg.com/dropzone@6.0.0-beta.1/dist/dropzone.css" rel="stylesheet" type="text/css" />
<script> //for drop zone
    function get_event_with_files_dnd(event) {
      console.log("in get_event_with_files_dnd")
      if (event == null || event.type == "load") { // htxm may evaluate "load" event that does not has "getAttribute" 
        return
      } else {
        const files = window.tron_assets["dropzones"][event.target.id + "_form"].files;
        var file_list = [];
        for (let idx = 0; idx < files.length; idx++)  { 
          file_list.push( [files[idx].name, files[idx].size, files[idx].type] ); 
        };
        return {
          "tn_event":
          {
            "e_trigger": event.currentTarget.id,
            "e_type": event.type,
            "e_state": event.currentTarget.getAttribute('state'),
            "e_target": event.currentTarget.getAttribute('hx-target')
          },
          "e_file_list": file_list
        };
      };
    };
</script>